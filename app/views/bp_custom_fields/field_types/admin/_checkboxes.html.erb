<% if field_template.multiple %>
  <% if field_template.all_choices.respond_to?(:keys) %>
    <% field_template.all_choices.each do |key, value| %>
      <%= content_tag :span, key %>
      <%= builder.check_box :value, {multiple: true, checked: "#{'checked' if builder.object.value.try(:include?, value)}"}, value%>
    <% end %>
  <% else %>
    <% field_template.all_choices.each do |choice| %>
      <%= content_tag :span, choice  %>
      <%= builder.check_box :value, {multiple: true, checked: "#{'checked' if builder.object.value.try(:include?, choice)}"}, choice %>
    <% end %>
  <% end %>
<% else %>
  <% if field_template.all_choices.respond_to?(:keys) %>
    <% field_template.all_choices.each do |key, value| %>
      <%= builder.label "value", key %>
      <%= builder.radio_button "value", key %>
    <% end %>
  <% else %>
    <% field_template.all_choices.each do |choice| %>
      <%= builder.label "value", choice %>
      <%= builder.radio_button "value", choice %>
    <% end %>
  <% end %>
<% end %>